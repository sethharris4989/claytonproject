{"ast":null,"code":"var _jsxFileName = \"/Users/sethharris/claytontestproject/src/HomeList.js\";\nimport React, { useState, useEffect } from \"react\";\nimport Pagination from 'react-hooks-paginator';\nimport HomeCard from './HomeCard';\nimport { Main, HomeListContainer, SearchBar } from './Style.js';\n\nconst HomeList = props => {\n  const [homes, setHomes] = useState([]);\n  const [updatedHomes, setUpdatedHomes] = useState([]);\n  const [pagedHomes, setPagedHomes] = useState([]);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [modelQuery, setModelQuery] = useState(props.model);\n  const [offset, setOffset] = useState(0);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [message, setMessage] = useState(\"Loading...\");\n  const pageLimit = 20;\n\n  const handleFilterChange = (e, filterType) => {\n    setSearchQuery(e.target.value);\n  };\n\n  useEffect(() => {\n    const fetchData = async () => {\n      const result = await fetch(\"https://fast-everglades-97829.herokuapp.com/homes\").then(res => res.json());\n      setHomes(result.Homes);\n      setUpdatedHomes(result.Homes.filter(product => product.IsModel === modelQuery));\n      setMessage(\"Sorry, No Results\");\n    };\n\n    fetchData(); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  useEffect(() => {\n    setModelQuery(props.model);\n  }, [props.model]);\n  useEffect(() => {\n    let filteredHomes = homes;\n\n    if (searchQuery.length) {\n      filteredHomes = filteredHomes.filter(item => item.Description.toLowerCase().includes(searchQuery.toLowerCase()) || item.HomeId.toLowerCase().includes(searchQuery.toLowerCase()));\n    }\n\n    if (modelQuery !== \"\") {\n      filteredHomes = filteredHomes.filter(product => product.IsModel === modelQuery);\n    }\n\n    setUpdatedHomes(filteredHomes); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchQuery, modelQuery, offset]);\n  useEffect(() => {\n    setPagedHomes(updatedHomes.slice(offset, offset + pageLimit));\n  }, [offset, updatedHomes]);\n  return /*#__PURE__*/React.createElement(Main, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(HomeListContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(SearchBar, {\n    type: \"text\",\n    value: searchQuery,\n    onChange: e => handleFilterChange(e, \"searchQ\"),\n    placeholder: \"Search for a home\",\n    autoFocus: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }), pagedHomes.length === 0 ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 12\n    }\n  }, message) : pagedHomes.map((item, key) => {\n    return /*#__PURE__*/React.createElement(HomeCard, {\n      key: key,\n      title: item.Description,\n      model: item.IsModel,\n      id: item.HomeId,\n      image: item.ThumbnailImage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 15\n      }\n    });\n  }), /*#__PURE__*/React.createElement(Pagination, {\n    totalRecords: updatedHomes.length,\n    pageLimit: pageLimit,\n    pageNeighbours: 1,\n    setOffset: setOffset,\n    currentPage: currentPage,\n    setCurrentPage: setCurrentPage,\n    onClick: window.scrollTo(0, 0),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  })));\n};\n\nexport default HomeList;","map":{"version":3,"sources":["/Users/sethharris/claytontestproject/src/HomeList.js"],"names":["React","useState","useEffect","Pagination","HomeCard","Main","HomeListContainer","SearchBar","HomeList","props","homes","setHomes","updatedHomes","setUpdatedHomes","pagedHomes","setPagedHomes","searchQuery","setSearchQuery","modelQuery","setModelQuery","model","offset","setOffset","currentPage","setCurrentPage","message","setMessage","pageLimit","handleFilterChange","e","filterType","target","value","fetchData","result","fetch","then","res","json","Homes","filter","product","IsModel","filteredHomes","length","item","Description","toLowerCase","includes","HomeId","slice","map","key","ThumbnailImage","window","scrollTo"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,UAAP,MAAuB,uBAAvB;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,SAASC,IAAT,EAAeC,iBAAf,EAAkCC,SAAlC,QAAmD,YAAnD;;AAEA,MAAMC,QAAQ,GAAIC,KAAD,IAAW;AAE1B,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBV,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACW,YAAD,EAAeC,eAAf,IAAkCZ,QAAQ,CAAC,EAAD,CAAhD;AACA,QAAM,CAACa,UAAD,EAAaC,aAAb,IAA8Bd,QAAQ,CAAC,EAAD,CAA5C;AACA,QAAM,CAACe,WAAD,EAAcC,cAAd,IAAgChB,QAAQ,CAAC,EAAD,CAA9C;AACA,QAAM,CAACiB,UAAD,EAAaC,aAAb,IAA8BlB,QAAQ,CAACQ,KAAK,CAACW,KAAP,CAA5C;AACA,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBrB,QAAQ,CAAC,CAAD,CAApC;AACA,QAAM,CAACsB,WAAD,EAAcC,cAAd,IAAgCvB,QAAQ,CAAC,CAAD,CAA9C;AACA,QAAM,CAACwB,OAAD,EAAUC,UAAV,IAAwBzB,QAAQ,CAAC,YAAD,CAAtC;AACA,QAAM0B,SAAS,GAAG,EAAlB;;AAEA,QAAMC,kBAAkB,GAAG,CAACC,CAAD,EAAIC,UAAJ,KAAmB;AAC5Cb,IAAAA,cAAc,CAACY,CAAC,CAACE,MAAF,CAASC,KAAV,CAAd;AACD,GAFD;;AAIA9B,EAAAA,SAAS,CAAC,MAAM;AACd,UAAM+B,SAAS,GAAG,YAAY;AAC5B,YAAMC,MAAM,GAAG,MAAMC,KAAK,CAAC,mDAAD,CAAL,CAA2DC,IAA3D,CAAgEC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EAAvE,CAArB;AACA3B,MAAAA,QAAQ,CAACuB,MAAM,CAACK,KAAR,CAAR;AACA1B,MAAAA,eAAe,CAACqB,MAAM,CAACK,KAAP,CAAaC,MAAb,CAAoBC,OAAO,IAAIA,OAAO,CAACC,OAAR,KAAoBxB,UAAnD,CAAD,CAAf;AACAQ,MAAAA,UAAU,CAAC,mBAAD,CAAV;AACD,KALD;;AAMAO,IAAAA,SAAS,GAPK,CAQd;AACD,GATQ,EASN,EATM,CAAT;AAWA/B,EAAAA,SAAS,CAAC,MAAM;AACdiB,IAAAA,aAAa,CAACV,KAAK,CAACW,KAAP,CAAb;AACD,GAFQ,EAEN,CAACX,KAAK,CAACW,KAAP,CAFM,CAAT;AAIAlB,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIyC,aAAa,GAAGjC,KAApB;;AACA,QAAIM,WAAW,CAAC4B,MAAhB,EAAwB;AACtBD,MAAAA,aAAa,GAAGA,aAAa,CAACH,MAAd,CAAqBK,IAAI,IAAIA,IAAI,CAACC,WAAL,CAAiBC,WAAjB,GAA+BC,QAA/B,CAAwChC,WAAW,CAAC+B,WAAZ,EAAxC,KAAsEF,IAAI,CAACI,MAAL,CAAYF,WAAZ,GAA0BC,QAA1B,CAAmChC,WAAW,CAAC+B,WAAZ,EAAnC,CAAnG,CAAhB;AACD;;AACD,QAAI7B,UAAU,KAAK,EAAnB,EAAuB;AACrByB,MAAAA,aAAa,GAAGA,aAAa,CAACH,MAAd,CAAqBC,OAAO,IAAIA,OAAO,CAACC,OAAR,KAAoBxB,UAApD,CAAhB;AACD;;AACDL,IAAAA,eAAe,CAAC8B,aAAD,CAAf,CARc,CASd;AACD,GAVQ,EAUN,CAAC3B,WAAD,EAAcE,UAAd,EAA0BG,MAA1B,CAVM,CAAT;AAaAnB,EAAAA,SAAS,CAAC,MAAM;AACda,IAAAA,aAAa,CAACH,YAAY,CAACsC,KAAb,CAAmB7B,MAAnB,EAA2BA,MAAM,GAAGM,SAApC,CAAD,CAAb;AACD,GAFQ,EAEN,CAACN,MAAD,EAAST,YAAT,CAFM,CAAT;AAIA,sBACE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,iBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,SAAD;AACE,IAAA,IAAI,EAAC,MADP;AAEE,IAAA,KAAK,EAAEI,WAFT;AAGE,IAAA,QAAQ,EAAGa,CAAD,IAAOD,kBAAkB,CAACC,CAAD,EAAI,SAAJ,CAHrC;AAIE,IAAA,WAAW,EAAC,mBAJd;AAKE,IAAA,SAAS,MALX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAQGf,UAAU,CAAC8B,MAAX,KAAsB,CAAtB,gBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAMnB,OAAN,CADF,GAEGX,UAAU,CAACqC,GAAX,CAAe,CAACN,IAAD,EAAOO,GAAP,KAAe;AAC9B,wBACE,oBAAC,QAAD;AACE,MAAA,GAAG,EAAEA,GADP;AAEE,MAAA,KAAK,EAAEP,IAAI,CAACC,WAFd;AAGE,MAAA,KAAK,EAAED,IAAI,CAACH,OAHd;AAIE,MAAA,EAAE,EAAEG,IAAI,CAACI,MAJX;AAKE,MAAA,KAAK,EAAEJ,IAAI,CAACQ,cALd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF;AASD,GAVC,CAVN,eAqBE,oBAAC,UAAD;AACE,IAAA,YAAY,EAAEzC,YAAY,CAACgC,MAD7B;AAEE,IAAA,SAAS,EAAEjB,SAFb;AAGE,IAAA,cAAc,EAAE,CAHlB;AAIE,IAAA,SAAS,EAAEL,SAJb;AAKE,IAAA,WAAW,EAAEC,WALf;AAME,IAAA,cAAc,EAAEC,cANlB;AAOE,IAAA,OAAO,EAAE8B,MAAM,CAACC,QAAP,CAAgB,CAAhB,EAAmB,CAAnB,CAPX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IArBF,CADF,CADF;AAmCD,CAnFD;;AAqFA,eAAe/C,QAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Pagination from 'react-hooks-paginator';\nimport HomeCard from './HomeCard';\nimport { Main, HomeListContainer, SearchBar } from './Style.js';\n\nconst HomeList = (props) => {\n\n  const [homes, setHomes] = useState([]);\n  const [updatedHomes, setUpdatedHomes] = useState([]);\n  const [pagedHomes, setPagedHomes] = useState([]);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [modelQuery, setModelQuery] = useState(props.model);\n  const [offset, setOffset] = useState(0);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [message, setMessage] = useState(\"Loading...\");\n  const pageLimit = 20;\n\n  const handleFilterChange = (e, filterType) => {\n    setSearchQuery(e.target.value)\n  }\n\n  useEffect(() => {\n    const fetchData = async () => {\n      const result = await fetch(\"https://fast-everglades-97829.herokuapp.com/homes\").then(res => res.json())\n      setHomes(result.Homes);\n      setUpdatedHomes(result.Homes.filter(product => product.IsModel === modelQuery));\n      setMessage(\"Sorry, No Results\");\n    };\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    setModelQuery(props.model);\n  }, [props.model]);\n\n  useEffect(() => {\n    let filteredHomes = homes;\n    if (searchQuery.length) {\n      filteredHomes = filteredHomes.filter(item => item.Description.toLowerCase().includes(searchQuery.toLowerCase()) || item.HomeId.toLowerCase().includes(searchQuery.toLowerCase()))\n    }\n    if (modelQuery !== \"\") {\n      filteredHomes = filteredHomes.filter(product => product.IsModel === modelQuery)\n    }\n    setUpdatedHomes(filteredHomes)\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchQuery, modelQuery, offset])\n\n\n  useEffect(() => {\n    setPagedHomes(updatedHomes.slice(offset, offset + pageLimit));\n  }, [offset, updatedHomes]);\n\n  return (\n    <Main>\n      <HomeListContainer>\n        <SearchBar\n          type=\"text\"\n          value={searchQuery}\n          onChange={(e) => handleFilterChange(e, \"searchQ\")}\n          placeholder=\"Search for a home\"\n          autoFocus\n        />\n        {pagedHomes.length === 0 ?\n          (<div>{message}</div>)\n          : pagedHomes.map((item, key) => {\n            return (\n              <HomeCard\n                key={key}\n                title={item.Description}\n                model={item.IsModel}\n                id={item.HomeId}\n                image={item.ThumbnailImage}\n              />\n            )\n          })}\n        <Pagination\n          totalRecords={updatedHomes.length}\n          pageLimit={pageLimit}\n          pageNeighbours={1}\n          setOffset={setOffset}\n          currentPage={currentPage}\n          setCurrentPage={setCurrentPage}\n          onClick={window.scrollTo(0, 0)}\n        />\n      </HomeListContainer>\n    </Main>\n  )\n}\n\nexport default HomeList;"]},"metadata":{},"sourceType":"module"}