{"ast":null,"code":"var _jsxFileName = \"/Users/sethharris/claytontestproject/src/HomeList.js\";\nimport React, { useState, useEffect } from \"react\";\nimport Pagination from 'react-hooks-paginator';\nimport HomeCard from './HomeCard';\nimport styled from 'styled-components';\n\nconst HomeList = props => {\n  const pageLimit = 10;\n  const [homes, setHomes] = useState([]);\n  const [updatedHomes, setUpdatedHomes] = useState([]);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [modelQuery, setModelQuery] = useState(props.model);\n  const [offset, setOffset] = useState(0);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [message, setMessage] = useState(\"Loading...\");\n\n  const handleFilterChange = (e, filterType) => {\n    switch (filterType) {\n      case \"searchQ\":\n        setSearchQuery(e.target.value);\n        break;\n\n      case \"modelQ\":\n        setModelQuery(e);\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  useEffect(() => {\n    const fetchData = async () => {\n      const result = await fetch(\"https://fast-everglades-97829.herokuapp.com/homes\").then(res => res.json());\n      setHomes(result.Homes);\n      setUpdatedHomes(result.Homes.filter(product => product.IsModel === modelQuery));\n      setMessage(\"Sorry, No Results\");\n    };\n\n    fetchData(); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  useEffect(() => {\n    setModelQuery(props.model);\n  }, [props.model]);\n  useEffect(() => {\n    let filteredHomes = homes;\n\n    if (searchQuery.length) {\n      filteredHomes = filteredHomes.filter(item => item.Description.toLowerCase().includes(searchQuery.toLowerCase()) || item.HomeId.includes(searchQuery));\n    }\n\n    if (modelQuery !== \"\") {\n      filteredHomes = filteredHomes.filter(product => product.IsModel === modelQuery);\n    }\n\n    setUpdatedHomes(filteredHomes.slice(offset, offset + pageLimit)); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchQuery, modelQuery, offset]);\n  return /*#__PURE__*/React.createElement(Main, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(HomeListContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(SearchBar, {\n    type: \"text\",\n    value: searchQuery,\n    onChange: e => handleFilterChange(e, \"searchQ\"),\n    placeholder: \"Search for a home\",\n    autoFocus: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }), updatedHomes.length === 0 ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 12\n    }\n  }, message) : updatedHomes.map((item, key) => {\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(HomeCard, {\n      key: key,\n      title: item.Description,\n      model: item.IsModel,\n      id: item.HomeId,\n      image: item.ThumbnailImage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Pagination, {\n      totalRecords: updatedHomes.length,\n      pageLimit: pageLimit,\n      pageNeighbours: 2,\n      setOffset: setOffset,\n      currentPage: currentPage,\n      setCurrentPage: setCurrentPage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }\n    }));\n  })));\n};\n\nconst Main = styled.main`\n  padding: 1rem 0rem;\n`;\nconst SearchBar = styled.input`\n  padding: 10px;\n  margin-bottom: 2rem;\n  margin-top: 2rem;\n  background: transparent;\n  border: 0px solid gray;\n  border-bottom: 1px solid gray;\n  border-top: 0px solid;\n  border-left: 0px solid;\n  border-right: 0px solid;\n  color: gray;\n  box-shadow: none;\n  outline: none;\n  width: 290px;\n  font-size: .9rem;\n  font-weight: 700; \n`;\nconst HomeListContainer = styled.section`\n  max-width: 940px;\n  padding: 0rem 20px;\n  margin: 0 auto 40px;\n  position: relative;\n  h1 {\n    margin: 0rem;\n  }\n  ul {\n    display: flex;\n    list-style: none;\n    margin: 1rem 0rem 0rem;\n    padding: 0rem;\n    li {\n      margin-right: 1rem;\n      text-transform: uppercase;\n    }\n  }\n`;\nexport default HomeList;","map":{"version":3,"sources":["/Users/sethharris/claytontestproject/src/HomeList.js"],"names":["React","useState","useEffect","Pagination","HomeCard","styled","HomeList","props","pageLimit","homes","setHomes","updatedHomes","setUpdatedHomes","searchQuery","setSearchQuery","modelQuery","setModelQuery","model","offset","setOffset","currentPage","setCurrentPage","message","setMessage","handleFilterChange","e","filterType","target","value","fetchData","result","fetch","then","res","json","Homes","filter","product","IsModel","filteredHomes","length","item","Description","toLowerCase","includes","HomeId","slice","map","key","ThumbnailImage","Main","main","SearchBar","input","HomeListContainer","section"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Pagination from 'react-hooks-paginator';\nimport HomeCard from './HomeCard';\nimport styled from 'styled-components'\n\nconst HomeList = (props) => {\n\n  const pageLimit = 10;\n\n  const [homes, setHomes] = useState([]);\n  const [updatedHomes, setUpdatedHomes] = useState([]);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [modelQuery, setModelQuery] = useState(props.model);\n  const [offset, setOffset] = useState(0);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [message, setMessage] = useState(\"Loading...\");\n\n  const handleFilterChange = (e, filterType) => {\n    switch (filterType) {\n      case \"searchQ\":\n        setSearchQuery(e.target.value)\n        break;\n      case \"modelQ\":\n        setModelQuery(e)\n        break;\n      default: break;\n    }\n  }\n\n  useEffect(() => {\n    const fetchData = async () => {\n      const result = await fetch(\"https://fast-everglades-97829.herokuapp.com/homes\").then(res => res.json())\n      setHomes(result.Homes);\n      setUpdatedHomes(result.Homes.filter(product => product.IsModel === modelQuery));\n      setMessage(\"Sorry, No Results\");\n    };\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    setModelQuery(props.model);\n  }, [props.model]);\n\n\n  useEffect(() => {\n    let filteredHomes = homes;\n    if (searchQuery.length) {\n      filteredHomes = filteredHomes.filter(item => item.Description.toLowerCase().includes(searchQuery.toLowerCase()) || item.HomeId.includes(searchQuery))\n    }\n    if (modelQuery !== \"\") {\n      filteredHomes = filteredHomes.filter(product => product.IsModel === modelQuery)\n    }\n    setUpdatedHomes(filteredHomes.slice(offset, offset + pageLimit))\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchQuery, modelQuery, offset])\n\n\n  return (\n    <Main>\n      <HomeListContainer>\n        <SearchBar type=\"text\" value={searchQuery} onChange={(e) => handleFilterChange(e, \"searchQ\")} placeholder=\"Search for a home\" autoFocus />\n        {updatedHomes.length === 0 ?\n          (<div>{message}</div>)\n          : updatedHomes.map((item, key) => {\n            return (\n              <React.Fragment>\n                <HomeCard\n                  key={key}\n                  title={item.Description}\n                  model={item.IsModel}\n                  id={item.HomeId}\n                  image={item.ThumbnailImage}\n                />\n                <Pagination\n                  totalRecords={updatedHomes.length}\n                  pageLimit={pageLimit}\n                  pageNeighbours={2}\n                  setOffset={setOffset}\n                  currentPage={currentPage}\n                  setCurrentPage={setCurrentPage}\n                />\n              </React.Fragment>\n            )\n          })}\n      </HomeListContainer>\n    </Main>\n  )\n}\n\nconst Main = styled.main`\n  padding: 1rem 0rem;\n`;\n\nconst SearchBar = styled.input`\n  padding: 10px;\n  margin-bottom: 2rem;\n  margin-top: 2rem;\n  background: transparent;\n  border: 0px solid gray;\n  border-bottom: 1px solid gray;\n  border-top: 0px solid;\n  border-left: 0px solid;\n  border-right: 0px solid;\n  color: gray;\n  box-shadow: none;\n  outline: none;\n  width: 290px;\n  font-size: .9rem;\n  font-weight: 700; \n`;\n\nconst HomeListContainer = styled.section`\n  max-width: 940px;\n  padding: 0rem 20px;\n  margin: 0 auto 40px;\n  position: relative;\n  h1 {\n    margin: 0rem;\n  }\n  ul {\n    display: flex;\n    list-style: none;\n    margin: 1rem 0rem 0rem;\n    padding: 0rem;\n    li {\n      margin-right: 1rem;\n      text-transform: uppercase;\n    }\n  }\n`;\n\nexport default HomeList;"]},"metadata":{},"sourceType":"module"}